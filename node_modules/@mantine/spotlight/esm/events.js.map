{"version":3,"file":"events.js","sources":["../src/events.ts"],"sourcesContent":["import { useEffect } from 'react';\nimport type { SpotlightContextValue } from './Spotlight.context';\nimport type { SpotlightAction } from './types';\n\ntype ValueOf<T> = T[keyof T];\n\nexport const SPOTLIGHT_EVENTS = {\n  open: 'mantine:open-spotlight',\n  close: 'mantine:close-spotlight',\n  toggle: 'mantine:toggle-spotlight',\n  triggerAction: 'mantine:trigger-spotlight-action',\n  registerActions: 'mantine:register-spotlight-actions',\n  removeActions: 'mantine:remove-spotlight-actions',\n} as const;\n\nfunction createEvent(type: ValueOf<typeof SPOTLIGHT_EVENTS>, detail?: any) {\n  return new CustomEvent(type, { detail });\n}\n\nexport function openSpotlight() {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.open));\n}\n\nexport function closeSpotlight() {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.close));\n}\n\nexport function toggleSpotlight() {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.toggle));\n}\n\nexport function triggerSpotlightAction(actionId: string) {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.triggerAction, actionId));\n}\n\nexport function registerSpotlightActions(actions: SpotlightAction[]) {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.triggerAction, actions));\n}\n\nexport function removeSpotlightActions(actionsIds: string[]) {\n  window.dispatchEvent(createEvent(SPOTLIGHT_EVENTS.triggerAction, actionsIds));\n}\n\nexport function useSpotlightEvents(ctx: SpotlightContextValue) {\n  const events = {\n    registerActions: (event: any) => ctx.registerActions(event.detail),\n    removeActions: (event: any) => ctx.registerActions(event.detail),\n    triggerAction: (event: any) => ctx.triggerAction(event.detail),\n    open: ctx.openSpotlight,\n    close: ctx.closeSpotlight,\n    toggle: ctx.toggleSpotlight,\n  };\n\n  useEffect(() => {\n    Object.keys(events).forEach((event) => {\n      window.addEventListener(SPOTLIGHT_EVENTS[event], events[event]);\n    });\n\n    return () => {\n      Object.keys(events).forEach((event) => {\n        window.removeEventListener(SPOTLIGHT_EVENTS[event], events[event]);\n      });\n    };\n  }, []);\n}\n"],"names":[],"mappings":";;AACY,MAAC,gBAAgB,GAAG;AAChC,EAAE,IAAI,EAAE,wBAAwB;AAChC,EAAE,KAAK,EAAE,yBAAyB;AAClC,EAAE,MAAM,EAAE,0BAA0B;AACpC,EAAE,aAAa,EAAE,kCAAkC;AACnD,EAAE,eAAe,EAAE,oCAAoC;AACvD,EAAE,aAAa,EAAE,kCAAkC;AACnD,EAAE;AACF,SAAS,WAAW,CAAC,IAAI,EAAE,MAAM,EAAE;AACnC,EAAE,OAAO,IAAI,WAAW,CAAC,IAAI,EAAE,EAAE,MAAM,EAAE,CAAC,CAAC;AAC3C,CAAC;AACM,SAAS,aAAa,GAAG;AAChC,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC,CAAC;AAC3D,CAAC;AACM,SAAS,cAAc,GAAG;AACjC,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;AAC5D,CAAC;AACM,SAAS,eAAe,GAAG;AAClC,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,MAAM,CAAC,CAAC,CAAC;AAC7D,CAAC;AACM,SAAS,sBAAsB,CAAC,QAAQ,EAAE;AACjD,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC,CAAC;AAC9E,CAAC;AACM,SAAS,wBAAwB,CAAC,OAAO,EAAE;AAClD,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC,CAAC;AAC7E,CAAC;AACM,SAAS,sBAAsB,CAAC,UAAU,EAAE;AACnD,EAAE,MAAM,CAAC,aAAa,CAAC,WAAW,CAAC,gBAAgB,CAAC,aAAa,EAAE,UAAU,CAAC,CAAC,CAAC;AAChF,CAAC;AACM,SAAS,kBAAkB,CAAC,GAAG,EAAE;AACxC,EAAE,MAAM,MAAM,GAAG;AACjB,IAAI,eAAe,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC;AACjE,IAAI,aAAa,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC,eAAe,CAAC,KAAK,CAAC,MAAM,CAAC;AAC/D,IAAI,aAAa,EAAE,CAAC,KAAK,KAAK,GAAG,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC;AAC7D,IAAI,IAAI,EAAE,GAAG,CAAC,aAAa;AAC3B,IAAI,KAAK,EAAE,GAAG,CAAC,cAAc;AAC7B,IAAI,MAAM,EAAE,GAAG,CAAC,eAAe;AAC/B,GAAG,CAAC;AACJ,EAAE,SAAS,CAAC,MAAM;AAClB,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC3C,MAAM,MAAM,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AACtE,KAAK,CAAC,CAAC;AACP,IAAI,OAAO,MAAM;AACjB,MAAM,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,KAAK,KAAK;AAC7C,QAAQ,MAAM,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,KAAK,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;AAC3E,OAAO,CAAC,CAAC;AACT,KAAK,CAAC;AACN,GAAG,EAAE,EAAE,CAAC,CAAC;AACT;;;;"}